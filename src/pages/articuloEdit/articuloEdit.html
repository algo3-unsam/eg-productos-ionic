<ion-header>
  <ion-navbar color="primary">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>{{articulo.descripcion}}</ion-title>

    <ion-buttons end>
      <button ion-button icon-only (click)="mostrarSearchBar()">
        <ion-icon name="search"></ion-icon>
      </button>

    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-list>

      <ion-grid>
        <form [formGroup]="articuloForm">
          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label floating>Descripción</ion-label>
                <ion-input type="text" formControlName="descripcion"></ion-input>
              </ion-item>
              <p *ngIf="!isValid('descripcion')" class="invalid-message" padding-left><small>Campo requerido</small></p>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>

                <ion-label floating>Código</ion-label>
                <ion-input type="text" formControlName="barcode"></ion-input>

                <button color="dark" icon-only ion-button outline item-end [hidden]="articuloService.isWeb()" (click)="escanearBarcode()">
                  &nbsp;<ion-icon name="barcode"></ion-icon>&nbsp;
              </button>

              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label floating>Precio costo</ion-label>
                <ion-input type="number" formControlName="precioCosto"></ion-input>
              </ion-item>
              <p *ngIf="!isValid('precioCosto') && !isEmpty('precioCosto')" class="invalid-message" padding-left><small>No puede ser negativo</small></p>
              <p *ngIf="!isValid('precioCosto') && isEmpty('precioCosto')" class="invalid-message" padding-left><small>Campo requerido</small></p>

            </ion-col>
            <ion-col>
              <ion-item>
                <ion-label floating>Precio venta</ion-label>
                <ion-input type="number" formControlName="precioVenta"></ion-input>
              </ion-item>
              <p *ngIf="!isValid('precioVenta') && !isEmpty('precioVenta')" class="invalid-message" padding-left><small>No puede ser negativo</small></p>
              <p *ngIf="!isValid('precioVenta') && isEmpty('precioVenta')" class="invalid-message" padding-left><small>Campo requerido</small></p>

            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              <ion-item>
                <ion-label floating>Stock</ion-label>
                <ion-input type="number" formControlName="stock"></ion-input>
              </ion-item>
              <p *ngIf="!isValid('stock') && !isEmpty('stock')" class="invalid-message" padding-left><small>Debe ser mayor a 0</small></p>
              <p *ngIf="!isValid('stock') && isEmpty('stock')" class="invalid-message" padding-left><small>Campo requerido</small></p>
            </ion-col>
            <ion-col>
            </ion-col>
          </ion-row>

        </form>
      </ion-grid>

    </ion-list>

    <ion-grid>
      <ion-row>

        <ion-col [hidden]="!articulo.id">
          <button ion-button block color="danger" icon-left (click)="eliminar()">
            <ion-icon name="trash"></ion-icon>
            &emsp;Eliminar
          </button>
        </ion-col>

        <ion-col>
          <button [disabled]="!articuloForm.valid" ion-button block color="primary" icon-left (click)="guardar()">
            <ion-icon name="checkmark"></ion-icon>&emsp;Guardar
          </button>
        </ion-col>
      </ion-row>

    </ion-grid>
  </ion-card>

</ion-content>